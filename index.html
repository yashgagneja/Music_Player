<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" />
	<link rel="stylesheet" href="css/style.css" />
</head>
<body>
	<div class="main_div">
		<div class="music_container">
			<h2 id="title">Lotus Lane</h2>
			<h3 id="artist">Loyalist</h3>
			<div class="img_container">
				<img src="images/1.jpg" alt=""/>
			</div>
			<audio src="music/1.mp3"></audio>
			<div class="music_controls">
		      <i class="fas fa-backward" id="prev" title="Previous"></i>
		      <i class="fas fa-play main_button" id="play" title="Play"></i>
		      <i class="fas fa-forward" id="next" title="Next"></i>
			</div>
		</div>
	</div>
	<script>
		const music = document.querySelector("audio");
		const img = document.querySelector("img");
		const play = document.getElementById("play");
		const title = document.getElementById("title");
		const artist = document.getElementById("artist");
		const prev = document.getElementById("prev");
		const next = document.getElementById("next");
		const songs=[{
			name:"1",
			title:"Yash1",
			artist:"Sachin1",
		},
		{
			name:"2",
			title:"Yash2",
			artist:"Sachin2",
		},
		{
			name:"3",
			title:"Yash3",
			artist:"Sachin3",
		}]
		let isplaying=true;
		const playmusic=() =>{
			isplaying=true;
			music.play();
			play.classList.replace("fa-play","fa-pause");
			img.classList.add("anime");
		} 
		const pausemusic =() =>{
			isplaying=false;
			music.pause();
			play.classList.replace("fa-pause","fa-play");
			img.classList.remove("anime");
		} 
		play.addEventListener('click',() =>{
			if(isplaying)
				pausemusic();
			else
				playmusic();
		} )
		const loadSong = (songs) => {
			title.textContent = songs.title;
			artist.textContent = songs.artist;
			music.src = "music/"+songs.name + ".mp3";
			img.src = "images/"+songs.name + ".jpg";
		}
		songindex=0;
		 const nextSong =() =>{
		 	songindex=(songindex+1)%songs.length;
		 	loadSong(songs[songindex]);
		 	playmusic();
		 }
		 const prevSong = () =>{
		 	songindex--;
		 	if(songindex<0)
		 		songindex=songs.length-1;
		 	loadSong(songs[songindex]);
		 	playmusic();
		 }
		next.addEventListener("click",nextSong);
		prev.addEventListener("click",prevSong);
	</script>
</body>
</html>